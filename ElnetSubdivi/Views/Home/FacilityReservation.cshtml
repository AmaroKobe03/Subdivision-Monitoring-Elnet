@* @model FacilityViewModel *@

@{
    ViewData["Title"] = "Facility Reservation";
}
<link href="~/css/output.css" rel="stylesheet">

@{
    var facilities = new List<FacilityViewModel>
    {
        new FacilityViewModel
        {
            ImagePath = "facimg1.png",
            FacilityName = "Community Park",
            ActionName = "ReserveFacility",
            ButtonText = "Reserve Now"
        },
        new FacilityViewModel
        {
            ImagePath = "facimg2.png",
            FacilityName = "ClubHouse",
            ActionName = "ReserveFacility",
            ButtonText = "Fully Booked"
        },
        new FacilityViewModel
        {
            ImagePath = "facimg3.png",
            FacilityName = "Fitness Center",
            ActionName = "ReserveFacility",
            ButtonText = "Maintenance"
        }
    };
}

<div class="flex h-[90vh] w-[90%] flex-col items-center overflow-auto bg-[#f2f2f2] font-semibold">

    @await Html.PartialAsync("_sharedSearch")

    <div id="reservediv" class="flex w-full flex-wrap justify-center gap-6 px-10 py-10">
        @foreach (var facility in facilities)
        {
            @await Html.PartialAsync("_sharedFacilityCard", facility)
        }
    </div>
</div>


<!-- Popup Modal -->
<div id="popup" class="fixed inset-0 mt-20 flex hidden items-center justify-center bg-black/50">
    <div id="content" class="flex h-[80vh] w-[80%] overflow-hidden rounded-lg bg-white shadow-lg">
        <!-- Left Section -->
        <div class="flex w-[70%] flex-col items-center p-6">
            <img class="h-[350px] w-[90%]" src="~/Images/facimg1.png" alt="Community Park">
            <h1 class="text-2xl font-bold text-[#AC602A] lg:text-[35px]">Community Park</h1>
            <p class="w-[90%] text-gray-700">
                Our community park provides a peaceful and scenic environment, perfect for relaxation and outdoor activities. It features
                walking trails, playgrounds, and picnic areas where families can enjoy quality time together. The park offers reservations 
                for community parties, celebrations, and special events. Whether you're taking a morning stroll, playing with your children,
                or hosting a gathering, our park is a welcoming space to connect with nature and the community.
            </p>
            <div class="mt-4 w-[90%]">
                <h3 class="text-lg font-bold">Park Rules:</h3>
                <ul class="list-disc pl-5 text-gray-700">
                    <li>Keep the park clean; dispose of trash properly.</li>
                    <li>Respect park facilities and equipment.</li>
                    <li>Pets must be on a leash at all times.</li>
                    <li>No smoking, alcohol, or illegal substances.</li>
                    <li>Loud music and disruptive behavior are not allowed.</li>
                    <li>Follow all posted signs and guidelines.</li>
                </ul>
                <p>We appreciate your cooperation in keeping our park safe and enjoyable for everyone!</p>
            </div>
        </div>

        <!-- Right Section -->
        <div class="flex w-[30%] flex-col gap-6 bg-gray-100 p-6">
            <!-- Reservation Form -->
            <div class="w-full rounded-lg bg-white p-6 shadow-md">
                <h2 class="text-center text-lg font-bold">Create a Reservation</h2>
                <div class="mt-4">
                    <label class="text-sm font-semibold">Date</label>
                </div>
                <div class="mt-3">
                    <input type="date" class="border-2 w-full rounded-md border-[#AC602A] px-4 py-2 outline-none">
                    <label class="text-sm font-semibold">Time In</label>
                    <input type="time" class="border-2 w-full rounded-md border-[#AC602A] px-4 py-2">
                </div>
                <div class="mt-3">
                    <label class="text-sm font-semibold">Time Out</label>
                    <input type="time" class="border-2 w-full rounded-md border-[#AC602A] px-4 py-2 outline-none">
                </div>
                <div class="mt-3">
                    <label class="text-sm font-semibold">Purpose</label>
                    <input type="text" class="border-2 w-full rounded-md border-[#AC602A] px-4 py-2 outline-none">
                </div>
                <button class="mt-5 w-full rounded-full bg-[#AC602A] py-2 font-semibold text-white hover:bg-[#924e21]">
                    Book Now
                </button>
            </div>

            <!-- Operating Hours -->
            <div class="w-full rounded-lg bg-white p-6 shadow-md">
                <h2 class="text-center text-lg font-bold">Operating Hours</h2>
                <div class="mt-3 text-gray-700">
                    <p class="flex justify-between"><span>Sunday</span> <span>7:00 AM - 12:00 AM</span></p>
                    <p class="flex justify-between"><span>Mon-Sat</span> <span>7:00 AM - 6:00 PM</span></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Close Button -->
    <button id="closePopupBtn" class="absolute top-4 right-4 hidden rounded-full bg-red-500 px-4 py-2 text-white">
        Close
    </button>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const popup = document.getElementById("popup");
        const content = document.getElementById("content");
        const bookNowBtns = document.querySelectorAll(".book-now-btn"); // Select all buttons

        bookNowBtns.forEach(btn => {
            btn.addEventListener("click", function () {
                popup.classList.remove("hidden");
            });
        });

        popup.addEventListener("click", function (event) {
            if (!content.contains(event.target)) {
                popup.classList.add("hidden");
            }
        });
    });


</script>

